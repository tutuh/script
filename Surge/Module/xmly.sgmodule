#!name=å–œé©¬æ‹‰é›…å»å¹¿å‘Š
#!desc=å–œé©¬æ‹‰é›…APPå‡€åŒ–
#!system=ios
#!category=ğŸ›¡ï¸ å»å¹¿å‘Š

[General]
# DNSåŠ«æŒ
hijack-dns = %APPEND% 114.114.114.114

[Rule]
# é˜»æ­¢IPå˜åŒ–
DOMAIN,gslbali.ximalaya.com,REJECT,extended-matching
DOMAIN,gslbtx.ximalaya.com,REJECT,extended-matching
# å–œé©¬æ‹‰é›…_å±è”½å¼€å±å¹¿å‘Š
# URL-REGEX,^http:\/\/adse\.ximalaya\.com\/(?!.*preSale),REJECT
# å–œé©¬æ‹‰é›…_ä¿®å¤è½®æ’­Adå¤±æ•ˆBug
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/discovery-feed\/focus\/queryF,REJECT
# å–œé©¬æ‹‰é›…_æ’­æ”¾é¡µ_Live
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/mobile-playpage\/view\/,REJECT
# å–œé©¬æ‹‰é›…_MyInfoçº¢ç‚¹æé†’
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/chaos-notice-web\/v1\/message\/preview\/list,REJECT
# å–œé©¬æ‹‰é›…_å±è”½å¤§çº¢åŒ…Tips
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/social-web\/bottomTabs\/dynamicEntrance\/status,REJECT
# å–œé©¬æ‹‰é›…_å±è”½gifå¼¹çª—Ad
URL-REGEX,^https?:\/\/.*\.xmcdn\.com\/\w{8}\/\w{4}-\w{16}\/.+gif$,REJECT
# å–œé©¬æ‹‰é›…_gslb
URL-REGEX,^https?:\/\/gslb.*\.xima.*\.com\/,REJECT
# å–œé©¬æ‹‰é›…_å±è”½Agedè¯·æ±‚
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/(dog-portal\/checkOld|(child-mobile\/child|aged-mobile\/aged)\/mode\/query),REJECT
# å–œé©¬æ‹‰é›…_éƒ¨åˆ†Tabå¼¹çª—
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/discovery-feed\/isShowUserGiftPendant,REJECT
# å–œé©¬æ‹‰é›…_å±è”½çº¢ç‚¹æç¤º
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/mobile-user\/unread,REJECT
# å–œé©¬æ‹‰é›…_å±è”½minorè¯·æ±‚
URL-REGEX,^https?:\/\/.*\.xima.*\.com/mobile-user/minorProtection/pop,REJECT
# å–œé©¬æ‹‰é›…_å±è”½éšç§æœé›†
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/collector\/xl\/v\d,REJECT
# å–œé©¬æ‹‰é›…_å±è”½ç‰ˆæœ¬æ›´æ–°
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/butler-portal\/versionCheck,REJECT
# å–œé©¬æ‹‰é›…_å±è”½å¼€å±å¹¿å‘Š
URL-REGEX,^https?:\/\/(adse\.wsa|adse|adbehavior|xdcs-collector)\.xima.*\.com\/.*,REJECT
# å–œé©¬æ‹‰é›…_å±è”½ä½ç½®è¯·æ±‚
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/mobile\/discovery\/v\d\/location,REJECT
# å–œé©¬æ‹‰é›…_å±è”½çƒ­æœè¯
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/hotWord,REJECT
# å–œé©¬æ‹‰é›…_å±è”½æœç´¢æ¡†å®šæ—¶_Ad
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/(hub)?guideWord,REJECT
# å–œé©¬æ‹‰é›…_å±è”½å®æ—¶Adè¯·æ±‚
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/api\/v\d\/adRealTime,REJECT
# å–œé©¬æ‹‰é›…_å±è”½ting_Ad
URL-REGEX,^https?:\/\/.*\.xima.*\.com\/ting\/(loading|feed|home)?,REJECT

[Script]
# å±è”½é¦–é¡µåŠ¨æ€ã€å±è”½Tabé¡µæ»šåŠ¨ã€å»é™¤æˆ‘çš„é¡µé¢Ad
å–œé©¬æ‹‰é›…å»å¹¿å‘Š = type=http-response,pattern=^https?:\/\/.*\.xima.*\.com\/(discovery-feed|discovery-category|mobile-user)\/v\d\/(mix|category|homePage),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/tutuh/script/master/JS/xmlyAd.js
# é¦–é¡µé¡¶éƒ¨å»é™¤ç›´æ’­
å–œé©¬æ‹‰é›…å»å¹¿å‘Š = type=http-response,pattern=^https?:\/\/.*\.xima.*\.com\/discovery-category\/customCategories,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/tutuh/script/master/JS/xmlyAd.js
# å±è”½é¦–é¡µæ¨ªå¹…
å–œé©¬æ‹‰é›…å»å¹¿å‘Š = type=http-response,pattern=^https?:\/\/.*\.xima.*\.com\/focus-mobile\/focusPic,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/tutuh/script/master/JS/xmlyAd.js

[MITM]
hostname = %APPEND% *.xima*.*, *.xmcdn.*

#!name=çŸ¥ä¹å»å¹¿å‘Š
#!desc=çŸ¥ä¹APPå»å¹¿å‘Š
#!category=ğŸ›¡ï¸ å»å¹¿å‘Š

[Rule]
# æ‹¦æˆªå¼€å±å¹¿å‘Š
URL-REGEX,^https?:\/\/api\.zhihu\.com\/commercial_api\/launch_v2\?,REJECT
URL-REGEX,^https?:\/\/api\.zhihu\.com\/commercial_api\/real_time_launch_v2\?,REJECT
# æ‹¦æˆªå“ç‰Œæé—®å¹¿å‘Š
URL-REGEX,^https?:\/\/api\.zhihu\.com\/brand\/question\/\d+/card\?,REJECT
URL-REGEX,^https?:\/\/www\.zhihu\.com\/api\/v\d+\/brand\/question/\d+/card\?,REJECT
# å…¶ä»–æ‹¦æˆªä¸å½±å“ä½¿ç”¨çš„åŸŸå
DOMAIN,mqtt.zhihu.com,REJECT
DOMAIN,sugar.zhihu.com,REJECT
DOMAIN,crash2.zhihu.com,REJECT
DOMAIN,appcloud.zhihu.com,REJECT
DOMAIN,appcloud2.in.zhihu.com,REJECT

[Map Local]
^https?:\/\/118\.89\.204\.198 data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
^https?:\/\/103\.41\.167\.237 data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
^https?:\/\/2402:4e00:1200:ed00:0:9089:6dac:96b6 data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# å±è”½ä¸‹å‘çš„é…ç½®ï¼Œå¦‚çš®è‚¤ç­‰
^https?:\/\/api\.zhihu\.com\/ab\/api\/v1\/products\/zhihu\/platforms\/ios\/config data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json" header="Content-Type: application/x-protobuf"
# å±è”½æˆ‘çš„é¡µé¢å¼€é€šä¼šå‘˜çš„å¡ç‰‡
# ^https?:\/\/api\.zhihu\.com\/unlimited\/go\/my_card data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# å»é™¤åº•éƒ¨æ ‡ç­¾é¡µå…³æ³¨äººè§’æ ‡
^https?:\/\/api\.zhihu\.com\/moments\/tab_v2 data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# å»é™¤æ¶ˆæ¯é€šçŸ¥è§’æ ‡
^https?:\/\/api\.zhihu\.com\/(notifications\/v\d\/count) data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# æ‹¦æˆªå›ç­”ä¸‹çš„å¡ç‰‡å¹¿å‘Š
^https?:\/\/www\.zhihu\.com\/api\/v\d\/answers\/\d+\/recommendations data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# æ‹¦æˆªåº”ç”¨å†…å¼¹çª—
^https?:\/\/api\.zhihu\.com\/me\/guides data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# å»é™¤å…³æ³¨é¡µæœ€å¸¸è®¿é—®
^https?:\/\/api\.zhihu\.com\/moments\/recent data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# æ‹¦æˆªæ¨èé¡µé¡¶éƒ¨å¹¿å‘Š
^https?:\/\/api\.zhihu\.com\/api\/v4\/ecom_data\/config data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# åº•æ åŠ å·çš„å¹¿å‘Š
^https?:\/\/api\.zhihu\.com\/content-distribution-core\/bubble\/common\/settings data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# æ¨èé¡µæœç´¢æ å·¦ä¾§å›¾æ ‡
^https?:\/\/api\.zhihu\.com\/feed\/render\/revisit\/current_reading data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# ç–‘ä¼¼æ¨èé¡µå†…å®¹æ›´æ–°çº¢ç‚¹
^https?:\/\/api\.zhihu\.com\/feed\/render\/revisit\/tag_config data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# å»é™¤å›ç­”é¡µçš„ç›¸å…³æœç´¢
^https?:\/\/www\.zhihu\.com\/api\/v\d+\/search\/related_queries\/answer data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
# æš‚ä¸æ¸…æ¥šä½œç”¨
^https?:\/\/api\.zhihu\.com\/commercial_api\/banners_v3\/app_topstory_banner data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"
^https?:\/\/api\.zhihu\.com\/ad-style-service\/request data="https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/blank/blank_dict.json"

[Script]
# è·å–ç”¨æˆ·ä¿¡æ¯ - éš”ç¦»ç”¨æˆ·æ•°æ®ï¼Œå¼€å¯æœ¬åœ°ä¼šå‘˜ç­‰
å“²ä¹Ÿ_å¤„ç†ç”¨æˆ·ä¿¡æ¯ = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/people\/,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å…³é”®è¯å±è”½ - è§£é”æœ¬åœ°çš„å…³é”®è¯å±è”½åŠŸèƒ½ï¼Œéœ€è¦å¼€å¯æœ¬åœ°VIP
å“²ä¹Ÿ_è§£é”å…³é”®è¯å±è”½ = type=http-request,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/feed-root\/block,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# ä¼˜åŒ–è½¯ä»¶é…ç½® - ä¼˜åŒ–ä¸‹å‘çš„é…ç½®æ–‡ä»¶æ¥å®ç°æŸäº›æ•ˆæœ
å“²ä¹Ÿ_ä¼˜åŒ–è½¯ä»¶é…ç½®1 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/m-cloud\.zhihu\.com\/api\/cloud\/config\/all\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js
å“²ä¹Ÿ_ä¼˜åŒ–è½¯ä»¶é…ç½®2 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/appcloud2\.zhihu\.com\/v\d+\/config,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js
å“²ä¹Ÿ_ä¼˜åŒ–è½¯ä»¶é…ç½®3 = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/feed\/render\/tab\/config,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# ç”¨æˆ·ä¿¡æ¯ - ä¿®æ”¹ç”¨æˆ·ç›å€¼
ä¿®æ”¹ç”¨æˆ·ç›å€¼ = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/user-credit\/basis,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å…³æ³¨é¡µ - å†…å®¹ä¼˜åŒ–åŠå±è”½è½¬å‘çš„é»‘åå•ç”¨æˆ·æƒ³æ³•
å“²ä¹Ÿ_å…³æ³¨åˆ—è¡¨ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/moments_v3\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# æ¨èé¡µ - ç§»é™¤é»‘åå•ç”¨æˆ·å‘å¸ƒçš„æ–‡ç« ã€å»é™¤å¹¿å‘Šï¼ŒåŠè‡ªå®šä¹‰ä¸€äº›å±è”½é¡¹ç›®
å“²ä¹Ÿ_æ¨èé¡µä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https:\/\/api\.zhihu\.com\/topstory\/recommend,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# é»‘åå•é¡µ - åŒæ­¥é»‘åå•æ•°æ®
å“²ä¹Ÿ_åŒæ­¥é»‘åå• = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/settings\/blocked_users,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# é—®é¢˜çš„å›ç­”åˆ—è¡¨ - ç§»é™¤é»‘åå•ç”¨æˆ·çš„å›ç­”ã€å»é™¤å¹¿å‘Š
å“²ä¹Ÿ_å›ç­”åˆ—è¡¨ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/(v4\/)?questions\/\d+,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å›ç­”ä¿¡æ¯æµ - ç§»é™¤é»‘åå•ç”¨æˆ·çš„å›ç­”ã€å»é™¤å¹¿å‘Š
å“²ä¹Ÿ_å›ç­”ä¿¡æ¯æµä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/next-(data|bff|render),script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å›ç­”é¡µåº•éƒ¨è¯„è®ºæ‘˜è¦ - ç§»é™¤é»‘åå•ç”¨æˆ·å‘è¡¨çš„è¯„è®º
å“²ä¹Ÿ_è¯„è®ºæ‘˜è¦ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/www\.zhihu\.com\/api\/v4\/comment_v5\/answers\/\d+\/abstract_comment\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# è¯„è®ºé¡µåŠå­é¡µé¢ - å»é™¤é»‘åå•ç”¨æˆ·å‘è¡¨çš„è¯„è®º
å“²ä¹Ÿ_è¯„è®ºä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/(comment_v5\/)?(answers|comments?|articles|pins)\/\d+\/(root_|child_)?comments?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# æ¶ˆæ¯é¡µ - æŠ˜å å®˜æ–¹æ¶ˆæ¯ã€å±è”½è¥é”€æ¶ˆæ¯
å“²ä¹Ÿ_æ¶ˆæ¯ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/notifications\/v3\/(message|timeline\/entry\/system_message),script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å›ç­”é¡µ - å†…å®¹ä¼˜åŒ–ï¼Œä»˜è´¹ã€è¥é”€ã€æ¨å¹¿å†…å®¹æ–‡é¦–æé†’
å“²ä¹Ÿ_å›ç­”å†…å®¹ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/www\.zhihu\.com\/appview\/v2\/answer\/.*(entry=(?!(preload-topstory|preload-search|preload-subscription)))?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# å›ç­”é¡µ - å±è”½ä¸‹ç¿»å‡ºç°çš„é»‘åå•ç”¨æˆ·çš„å›ç­”
å“²ä¹Ÿ_å›ç­”ç¿»é¡µä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/next\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# æ–‡ç« é¡µ - å»é™¤åº•éƒ¨å¹¿å‘Š
å“²ä¹Ÿ_æ–‡ç« ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/www\.zhihu\.com\/api\/v\d\/articles\/\d+\/recommendation\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# çƒ­æ¦œé¡µ - å»é™¤å¹¿å‘Š
å“²ä¹Ÿ_çƒ­æ¦œä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/topstory\/hot-lists(\?|\/),script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

# æœç´¢é¡µ - å»é™¤é¢„ç½®å¹¿å‘Š
å“²ä¹Ÿ_é¢„ç½®å…³é”®è¯ä¼˜åŒ– = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/api\.zhihu\.com\/search\/preset_words\?,script-path=https://gist.githubusercontent.com/blackmatrix7/f5f780d0f56b319b6ad9848fd080bb18/raw/zheye.min.js

[MITM]
hostname = %APPEND% 118.89.204.198,103.41.167.237,2402:4e00:1200:ed00:0:9089:6dac:96b6,www.zhihu.com,api.zhihu.com,zhuanlan.zhihu.com,appcloud2.zhihu.com,m-cloud.zhihu.com,103.41.167.236,103.41.167.234,103.41.167.235,103.41.167.226
